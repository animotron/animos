Init heap of 64 Mb
heap_alloc_table = 0x5bc000, heap_base = 0x5c4000, heap_size = 0x3fff000
physmem/hal_physmem_add_low: add low mem: 0x1000, 1 pages, 4 kb
physmem/hal_physmem_add_low: add low mem: 0x3000, 36 pages, 144 kb
physmem/hal_physmem_add_low: add low mem: 0x27000, 119 pages, 476 kb
exec is 10
Got string table 18 : 'libgcc2.c'
Warning: extra space in symtab leftx86 HAL init
HAL init VM at 0x80000000
arch_get_rtc_delta: GMT 14:30:13 29.6.2010
CPU 0: family 6 model 3 stepping 3, string 'GenuineIntel'
CPU 0: features: fpu de pse tsc msr pae mce cx8 apic sep pge cmov pat mmx fxsr sse sse2 sse3 
findspeed: delaycount=26109 (tics=457)
main timer usec_per_tick = 10000
driver/loadpci: Loading PCI config:
PCI 0.0: PCI & Memory (Intel) 8086:1237 class 6:0 (bridge: host bridge) if 0
PCI 1.0: PIIX3 PCI-to-ISA Bridge (Triton II) (Intel) 8086:7000 class 6:1 (bridge: isa) if 0
PCI 1.1: PIIX3 IDE Interface (Triton II) (Intel) 8086:7010 class 1:1 (mass storage: ide) if 80
PCI 1.3: PIIX4/4E/4M Power Management Controller (Intel) 8086:7113 class 6:80 (bridge: other) if 0
PCI 2.0: 64-bit VisualMedia Accelerator (Cirrus Logic) 1013:B8 class 3:0 (display: vga) if 0
PCI 3.0: ? (?) 1AF4:1000 class 2:0 (network: ethernet) if 0
PCI 4.0: PCnet LANCE PCI Ethernet Controller (Advanced Micro Devices) 1022:2000 class 2:0 (network: ethernet) if 0
PCI 5.0: VirtIO device (?) 1AF4:1001 class 1:80 (mass storage: other) if 0
PCI 6.0: VirtIO device (?) 1AF4:1002 class 5:0 (memory: ram) if 0
driver/phantom_pci_find_drivers: Look for PCI devices, stage 0
driver/probe_isa: Driver 'CGA' attached to ISA at 0x3D4 (IRQ -1)
driver/probe_isa: Driver 'Beep' attached to ISA at 0x42 (IRQ -1)
bios/driver_etc_smbios_probe: SMBios Version: 2.4
bios/driver_etc_smbios_probe: SMBios BCD Revision: 2.4
driver/probe_etc: Driver 'SMBios' attached
Activating APIC...APIC ver. 0x1, unit id 0x0
Activating IO APIC...IO APIC ver. 0x1, unit id 0x1000000, 24 inputs
smp/imps_scan: Scanning from 0x9fc00 for 1024 bytes
smp/imps_scan: Scanning from 0xf0000 for 65536 bytes
smp/imps_scan: Found MP Floating Structure Pointer at fba60
smp/imps_read_bios: Intel MultiProcessor Spec 1.4 BIOS support detected
smp/imps_read_bios:     APIC config: "Virtual Wire mode"    Local APIC address: 0xfee00000
smp/imps_read_bios:   OEM id: QEMUCPU   Product id: 0.1         
smp/add_processor:   Starting processor [APIC id 0 ver 17]:  
smp/add_processor:   - #0  BootStrap Processor (BSP)
smp/add_bus:   Bus id 0 is ISA   

smp/add_ioapic:   I/O APIC id 1 ver 17, address: 0xfec00000  
smp/add_int: Interrupt type 3 (io), int_type 0, flags 0
smp/add_int:  - ISA    (0) irq  0 -> apic 1 in  0
smp/add_int: Interrupt type 3 (io), int_type 0, flags 0
smp/add_int:  - ISA    (0) irq  1 -> apic 1 in  1
smp/add_int: Interrupt type 3 (io), int_type 0, flags 0
smp/add_int:  - ISA    (0) irq  2 -> apic 1 in  2
smp/add_int: Interrupt type 3 (io), int_type 0, flags 0
smp/add_int:  - ISA    (0) irq  3 -> apic 1 in  3
smp/add_int: Interrupt type 3 (io), int_type 0, flags 0
smp/add_int:  - ISA    (0) irq  4 -> apic 1 in  4
smp/add_int: Interrupt type 3 (io), int_type 0, flags 0
smp/add_int:  - ISA    (0) irq  5 -> apic 1 in  5
smp/add_int: Interrupt type 3 (io), int_type 0, flags 0
smp/add_int:  - ISA    (0) irq  6 -> apic 1 in  6
smp/add_int: Interrupt type 3 (io), int_type 0, flags 0
smp/add_int:  - ISA    (0) irq  7 -> apic 1 in  7
smp/add_int: Interrupt type 3 (io), int_type 0, flags 0
smp/add_int:  - ISA    (0) irq  8 -> apic 1 in  8
smp/add_int: Interrupt type 3 (io), int_type 0, flags 0
smp/add_int:  - ISA    (0) irq  9 -> apic 1 in  9
smp/add_int: Interrupt type 3 (io), int_type 0, flags 0
smp/add_int:  - ISA    (0) irq  A -> apic 1 in  A
smp/add_int: Interrupt type 3 (io), int_type 0, flags 0
smp/add_int:  - ISA    (0) irq  B -> apic 1 in  B
smp/add_int: Interrupt type 3 (io), int_type 0, flags 0
smp/add_int:  - ISA    (0) irq  C -> apic 1 in  C
smp/add_int: Interrupt type 3 (io), int_type 0, flags 0
smp/add_int:  - ISA    (0) irq  D -> apic 1 in  D
smp/add_int: Interrupt type 3 (io), int_type 0, flags 0
smp/add_int:  - ISA    (0) irq  E -> apic 1 in  E
smp/add_int: Interrupt type 3 (io), int_type 0, flags 0
smp/add_int:  - ISA    (0) irq  F -> apic 1 in  F

Phantom 0.09 (SVN ver  438M ) starting

boot/net_stack_init: Init TCP/IP stack
TRFS/phantom_trfs_init: inited
TRFS/trfsAsyncIo: new request
TRFS/sendReadRq: send read rq
driver/phantom_pci_find_drivers: Look for PCI devices, stage 1
TRFS/connect_trfs: started
TRFS/trfs_recv: receiving
driver/probe_pci: Probing driver 'VirtIO Net' for PCI dev 3:0 (?:? 1AF4:1000 class 2:0)
VirtIo/virtio_probe: probe got dev 0x1000 class 0x2 subclass 0x0
VirtIo/virtio_probe: Ring 0 size 256, 
VirtIo/virtio_ring_init: allocating 3 pages for vring, 
VirtIo/virtio_probe: Ring 1 size 256, 
VirtIo/virtio_ring_init: allocating 3 pages for vring, 
VirtIo/virtio_probe: Ring 2 size 16, 
VirtIo/virtio_ring_init: allocating 2 pages for vring, 
VirtIo.Net/driver_virtio_net_probe: Status is: 0x1

VirtIo.Net/driver_virtio_net_probe: Status is: 0x1

VirtIo.Net/driver_virtio_net_probe: Host features are: 0x10f0020<MAC>

VirtIo.Net/driver_virtio_net_probe: MAC address 52:54:00:12:34:56
VirtIo.Net/driver_virtio_net_probe: Registered at IRQ 11, IO 0xC020

VirtIo.Net/driver_virtio_net_probe: Status is: 0x3

VirtIo.Net/driver_virtio_net_probe: Status is: 0x7

VirtIo.Net/driver_virtio_net_probe: Write to net

!spinlock STI!

!spinunlock STI!
driver/probe_pci: Driver 'VirtIO Net' attached to PCI dev 3:0 (?:?)
driver/probe_pci: Probing driver 'AMD PcNet' for PCI dev 4:0 (Advanced Micro Devices:PCnet LANCE PCI Ethernet Controller 1022:2000 class 2:0)
PCNET32:  probe
PCNET32: Adding route...ok
PCNET32: Adding default route...ok
driver/probe_pci: Driver 'AMD PcNet' attached to PCI dev 4:0 (Advanced Micro Devices:PCnet LANCE PCI Ethernet Controller)
driver/probe_isa: Driver 'PS2 Keyboard' attached to ISA at 0xFFFFFFFF (IRQ 1)
driver/probe_isa: Driver 'PS2 Mouse' attached to ISA at 0xFFFFFFFF (IRQ 12)
ne2000/driver_isa_ne2000_probe: Looking for NE2000 at 0x280
ne2000/driver_isa_ne2000_probe: Looking for NE2000 at 0x300
ne2000/ne_probe: NE2000 base 0x300, MAC Addr 52:54:00:12:34:58
ne2000/driver_isa_ne2000_probe: Adding route - ok
ne2000/driver_isa_ne2000_probe: Adding default route...
ne2000/driver_isa_ne2000_probe: Adding route - ok
driver/probe_isa: Driver 'NE2000' attached to ISA at 0x300 (IRQ 11)
ne2000/driver_isa_ne2000_probe: Looking for NE2000 at 0x320
ne2000/driver_isa_ne2000_probe: Looking for NE2000 at 0x340
ne2000/driver_isa_ne2000_probe: Looking for NE2000 at 0x360

Looking for VESA VBE... VESA ver 200 ptr 70000040, OEM 'VGABIOS Cirrus extension'
Total 4K mem, cap: 0
Lookup VESA modes:
101,  640* 480/ 8, mem F0000000 attr=bb<OK,RSV,COLR,GFX,~VGA,LINBUF>: not 24bpp
110,  640* 480/15, mem F0000000 attr=bb<OK,RSV,COLR,GFX,~VGA,LINBUF>: not 24bpp
111,  640* 480/16, mem F0000000 attr=bb<OK,RSV,COLR,GFX,~VGA,LINBUF>: not 24bpp
112,  640* 480/24, mem F0000000 attr=bb<OK,RSV,COLR,GFX,~VGA,LINBUF>: better
103,  800* 600/ 8, mem F0000000 attr=bb<OK,RSV,COLR,GFX,~VGA,LINBUF>: not 24bpp
113,  800* 600/15, mem F0000000 attr=bb<OK,RSV,COLR,GFX,~VGA,LINBUF>: not 24bpp
114,  800* 600/16, mem F0000000 attr=bb<OK,RSV,COLR,GFX,~VGA,LINBUF>: not 24bpp
115,  800* 600/24, mem F0000000 attr=bb<OK,RSV,COLR,GFX,~VGA,LINBUF>: better
105, 1024* 768/ 8, mem F0000000 attr=bb<OK,RSV,COLR,GFX,~VGA,LINBUF>: not 24bpp
116, 1024* 768/15, mem F0000000 attr=bb<OK,RSV,COLR,GFX,~VGA,LINBUF>: not 24bpp
117, 1024* 768/16, mem F0000000 attr=bb<OK,RSV,COLR,GFX,~VGA,LINBUF>: not 24bpp
118, 1024* 768/24, mem F0000000 attr=bb<OK,RSV,COLR,GFX,~VGA,LINBUF>: better
107, 1280*1024/ 8, mem F0000000 attr=bb<OK,RSV,COLR,GFX,~VGA,LINBUF>: not 24bpp
119, 1280*1024/15, mem F0000000 attr=bb<OK,RSV,COLR,GFX,~VGA,LINBUF>: not 24bpp
11A, 1280*1024/16, mem F0000000 attr=bb<OK,RSV,COLR,GFX,~VGA,LINBUF>: not 24bpp
VESA mode 280 1024*768 24bpp selected, mem at F0000000
video/set_video_driver_bios_vesa_pa: VESA vaddr = 40400000, 1024 pages, 4 mbytes

Setting VESA video mode 280
video/phantom_start_video_driver: Skipping video drv select due to enforce
driver/phantom_pci_find_drivers: Look for PCI devices, stage 2
driver/probe_isa: Driver 'LPT1' attached to ISA at 0x378 (IRQ 7)
com/com_detect: com0: 82550 or 16550 chip
driver/probe_isa: Driver 'COM1' attached to ISA at 0x3F8 (IRQ 4)
dpc/dpc_init: Starting DPC
ne2000/ne2000_thread: Thread ready, wait 4 nic active
ne2000/ne2000_thread: Thread ready, wait 4 sema
disk/setup_simple_ide: Init
disk/setup_simple_ide: Found PCI IDE, BM base reg=0xC000
disk/setup_simple_ide: Found 2 devices, dev 0 is ATA, dev 1 is ATA.

disk/simple_ide_idenify_device: --- Identifying IDE 0: 
disk/simple_ide_idenify_device:  is not ATA, nSect=4 Mb Model: 'QEMU HARDDISK                           ' fixed, 48 bit LBA
disk/simple_ide_idenify_device: --- Identifying IDE 1: 
disk/simple_ide_idenify_device:  is not ATA, nSect=80 Mb Model: 'QEMU HARDDISK                           ' fixed, 48 bit LBA
TRFS/trfs_resend_thread: rerequest
TRFS/sendReadRq: send read rq
Checking superblock...pager/pager_get_superblock: root sb sys name = 'Unnamed Phantom system', checksum ok

Looking for superblock at 256... Found superblock at 256
Looking for superblock at 544... Found superblock at 544
sb1 status 1, sb2 - 1, sb3 - 1
root sb sb2 addr 256, sb3 addr 544, free start 545, free list 17, fs clean -1
 Warning: Disk FS minor version number is low: 0x2, mine is 0x3... all 3 superblocks are found and good, ok.
fsck/phantom_fsck: *** check superblock ***
fsck/phantom_fsck: *** check lists ***
-- Last snap... Ok
-- Prev snap... Ok
-- Boot list... Ok
-- Kernel... None
-- Log list... None
fsck/phantom_fsck: *** Finish! ***
pager/pager_init_free_list: Pager init free list... 
pager/pager_init_free_list:  ...DONE
pager/pager_update_superblock:  updating superblock...
pager/pager_update_superblock:  saved all 3


No pagelist to load

boot/load_classes_module: Classes boot module is found

driver/phantom_pci_find_drivers: Look for PCI devices, stage 3
net/udp_syslog_send: UDP syslog send '<7>Oct 09 00:11:17 10.0.2.123 Test of UDP syslog'

UDP SEND port 514 to 514, len 56 (48)
ipv4_output: buf 0x5f7000, target_addr 192.168.1.100, protocol 17, len 56
ipv4_output src addr 10.0.2.123
ARP: send request
<7>Oct 09 00:11:17 Test of UDP syslog
Warning: env without =, '10'
Based on: .internal.object
Phantom System Envirinment Setup is running
loading loader class
Based on: .internal.object
creating loader object
initializing loader
registering loader
Loader: class '.ru.dz.phantom.system.regression_tests' requested... loading
Based on: .internal.object
Starting compiler regression tests
Phantom language regression tests are running
Checking flow control operators... passed
Checking int math... passed
Checking arrays... Beeping: beep two! beep one! beep zero! 
passed
Finished compiler regression tests
Loader: class '.ru.dz.phantom.backgrounds' requested... loading
Based on: .internal.object

will load bitmap...
have bitmap!...
Loader: class '.phantom.osimpl' requested... loading
Based on: .internal.object
Loader: class '.ru.dz.windows.root' requested... loading
Based on: .internal.object
Finished windows tests
Loader: class '.ru.dz.phantom.system.thread_test' requested... loading
Based on: .internal.object
boot/main: Will run phantom threads... 
TRFS/trfs_resend_thread: rerequest
TRFS/sendReadRq: send read rq
TRFS/trfs_send: sending
UDP SEND port 2052 to 2052, len 44 (36)
ipv4_output: buf 0x5f9000, target_addr 192.168.1.100, protocol 17, len 44
ipv4_output src addr 10.0.2.123
ARP: send request
ARP: send request
if_tx_thread: sending packet size 42
